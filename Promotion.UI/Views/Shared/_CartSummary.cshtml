@using Promotion.Data.Entities
@model Promotion.ViewModels.ProductVM
<div class="row">
    <div class="card" style="width: 65rem;margin-top:20px;">
        <div class="card-header">
            Cart Summary:
        </div>
        <table class="card-table table">
            <thead>
                <tr>
                    <th scope="col">Product</th>
                    <th scope="col">Unit(s)</th>
                    <th scope="col">Total Cost</th>
                    <th scope="col">Discounted Cost</th>
                </tr>
            </thead>
            <tbody>
                @{
                    double cartValue = 0.0;
                    if (Model.CartSummary.Count > 0)
                    {
                        foreach (CartSummary summary in Model.CartSummary)
                        {
                            cartValue += @summary.DiscountedPrice;
                            <tr>
                                <td>@summary.Title</td>
                                <td>@summary.Qty</td>
                                <td>@summary.TotalPrice</td>
                                <td>@summary.DiscountedPrice</td>
                            </tr>
                        }
                        <tr style="background-color:#ffc107;"><td colspan="3" style="width:75%;text-align:right;">Payable Amount:</td><td style="width:25%;">@cartValue</td></tr>
                    }
                    else
                    {
                        <tr><td colspan="4">No items selected!</td></tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
